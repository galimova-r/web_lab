<html>
<head>
<meta charset="utf-8"/>
<title>lab 6</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body style="margin-left: 20%;margin-right: 20%;">

	<h1>Введите числа</h1>
    <input id="input1">
    <input id="input2">
    <input type="button" id="button_plus" value="Плюс">
    <input type="button" id="button_minus" value="Минус">
    <input type="button" id="button_mult" value="Умножить">
    <input type="button" id="button_div" value="Делить">
    <p id="answer"></p>
    <br>
    <h1>Какое из устройств выполняет функцию ввода информации?</h1>
    <select id="select_answ" name="tools">
        <option value="speaker">Колонки</option>
        <option value="keyboard" >Клавиатура</option>
        <option value="headphones">Наушники</option>
        <option value="monitor">Монитор</option>
    </select>
    
    <input type="button" id="button_answ" value="Проверка">
    <br>
    <p id="answer2"></p>
    <br>
    <input id="input_pal">
    <input type="button" id="button_pal" value="Проверка на палиндром">
    <p id="answer_pal"></p>
    <br>
    <input type="button" id="button_sr" value="Среднее рандома">
    <p id="arif"></p>
    <p id="days"></p>
    <h2>Вывод пустой стрелочной функции</h2>
    <p id="empty_p"></p>
    <h1>Работа с массивами</h1>
    <input type="button" id="button_arr" value="Работа с массивами">
    <p id="arr_html"></p>
    <p id="arr1"></p>
    <p id="arr2"></p>
    <p id="arr3"></p>
    <input id="input_mail">
    <input type="button" id="button_arr_mail" value="Работа с @mail">
    <p id="res_mail"></p>


<script>
	//1.	Воспользовавшись методическим указанием реализуйте Калькулятор в виде стрелочных функций.

	let summa = (a, b) => {  
	  let result = a + b;
	  return result; 
	};

	let minus = (a, b) => {  
	  let result = a - b;
	  return result; 
	};

	let mult = (a, b) => {  
	  let result = a * b;
	  return result; 
	};

	let div = (a, b) => {  
	  let result = a / b;
	  return result; 
	};
	
	
	let input1 = document.querySelector('#input1');
	let input2 = document.querySelector('#input2');
    let button_plus = document.querySelector('#button_plus');
    let button_minus = document.querySelector('#button_minus');
    let button_mult = document.querySelector('#button_mult');
    let button_div = document.querySelector('#button_div');

    button_plus.addEventListener('click', function num_1() {
        
        var answ = document.getElementById('answer');
        let input1 = Number(document.getElementById('input1').value);
        let input2 = Number(document.getElementById('input2').value);
        answ.innerHTML = summa(input1,input2);
        
        
    });

    button_minus.addEventListener('click', function num_2() {
        
        var answ = document.getElementById('answer');
        let input1 = Number(document.getElementById('input1').value);
        let input2 = Number(document.getElementById('input2').value);
        answ.innerHTML = minus(input1,input2);
        
        
    });

    button_mult.addEventListener('click', function num_3() {
        
        var answ = document.getElementById('answer');
        let input1 = Number(document.getElementById('input1').value);
        let input2 = Number(document.getElementById('input2').value);
        answ.innerHTML = mult(input1,input2);
        
        
    });

    button_div.addEventListener('click', function num_4() {
        
        var answ = document.getElementById('answer');
        let input1 = Number(document.getElementById('input1').value);
        let input2 = Number(document.getElementById('input2').value);
        answ.innerHTML = div(input1,input2);
        
        
    });

//2.	Используя  Function Expression реализуйте проверку условий тестовых заданий
    let button_answ = document.querySelector('#button_answ');
    let true_answ = "keyboard";


	

	button_answ.addEventListener('click', function num_5() {
		let get_answ = document.getElementById('select_answ').value;
        
        
    	let check_answ = (get_answ == true_answ) ?
		  () => {answer2.innerText = "Верно"} :
		  () => {answer2.innerText = "Не верно"};
        check_answ();
        
        
    });


//3.	Реализуйте в виде стрелочной функции функцию, проверяющую вашу фамилию на полиндром


    let isPalindrome = (string) => {
        string = string.toLowerCase().replace(/\W/g, '');
        const stringArray = [...string];
        const newArray = [];
        stringArray.forEach(index => {
            newArray.unshift(index);
        });
        const reversedString = newArray.join('');
        return string === reversedString;
    }


    let button_pal = document.querySelector('#button_pal');
    button_pal.addEventListener('click', function num_6() {
    	let input_pal = document.getElementById('input_pal').value;
    	var answer_pal = document.getElementById('answer_pal');
    	if (isPalindrome(input_pal)){answer_pal.innerHTML = "Да, палиндром"}else{answer_pal.innerHTML = "Нет, это не палиндром"};
    
        
    });

//4.	Реализуйте в виде стрелочной функции вычисление среднего значения данных в массиве

    let sr_arif = (arr)=> {
    	var sum = arr.reduce((a, b) => a + b);
    	var res_sr = sum/arr.length;
    	return res_sr
        }



    let button_sr = document.querySelector('#button_sr');
    button_sr.addEventListener('click', function num_7() {
        var arr = [];
        var summ = 0;
        var arif = document.getElementById('arif');

        for(i=0; i<14; i++) {
            arr[i] = Math.round(Math.random() * (30 - (-10)) + (-10));
            }
        arif.innerHTML="Среднее 15-ти рандомных чисел массива: "+sr_arif(arr);	
            
        
        
    });

//5.	В виде стрелочной функции реализуйте функцию, вычисляющую количество дней до нового года.

    let getDaysNY = () => {
    	var date1 = new Date();
    	var date2 = new Date("1/1/2024");

	    var oneDay = 1000 * 60 * 60 * 24;
	    var diffInTime = date2.getTime() - date1.getTime();
	    var diffInDays = Math.round(diffInTime / oneDay);

	    return diffInDays;}
	days.innerHTML="<h1>До Нового года "+getDaysNY()+" дней! Ура</h1>";

//6.	Создайте пустую стрелочную функцию возвращает undefined
	
	let empty = () => {};
	empty_p.innerHTML = empty();


//7.	Создайте массив и напишите стрелочные функции для него: суммирование всех элементов, выявить все четные, умножить каждый элемент на 2. 
    let button_arr = document.querySelector('#button_arr');
    button_arr.addEventListener('click', function num_8() {
        var arr = [];
        var summ = 0;

        for(i=0; i<14; i++) {
            arr[i] = Math.round(Math.random() * (30 - (-10)) + (-10));
            }
        var sum_arr = arr.reduce((a, b) => a + b);
        var even = arr.filter(v => v % 2 == 0);
        var double = arr.map(v => v * 2);

        arr_html.innerHTML="Рандомный массив "+ arr;
        arr1.innerHTML="Сумма всех элементов "+ sum_arr;
        arr2.innerHTML="Четные элементы "+ even;
        arr3.innerHTML="Умножаем на 2 все элементы "+ double;

            
        
        
    });

	//8.	Создайте массив с e-mail. Организуйте фильтр на странице html по названию почты.

	let button_arr_mail = document.querySelector('#button_arr_mail');
    button_arr_mail.addEventListener('click', function num_9() {
    	var input_mail = document.getElementById('input_mail').value;

	    var arr_base = ['val@email.com', 'vali1@email.com', 'lid2@email.com', 'valid3@email.com', 'valid4@email.com', '4444444@email.com'];
	    var arr_mail = arr_base.filter(str => str.includes(input_mail));

	    var res_mail = document.getElementById('res_mail');
	    res_mail.innerHTML = arr_mail;
	});


</script>



</body>
</html>